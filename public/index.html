<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Alan Wang</title><meta name=description content><meta name=author content><link rel=canonical href=http://wlchn.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><link rel=icon href=http://wlchn.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://wlchn.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://wlchn.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://wlchn.github.io/apple-touch-icon.png><link rel=mask-icon href=http://wlchn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://wlchn.github.io/index.xml><link rel=alternate type=application/json href=http://wlchn.github.io/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Alan Wang"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://wlchn.github.io/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Alan Wang"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Alan Wang","url":"http://wlchn.github.io/","description":"","thumbnailUrl":"http://wlchn.github.io/favicon.ico","sameAs":["mailto:geekwanglei@gmail.com","https://linkedin.com/in/wlchn","https://github.com/wlchn","https://stackoverflow.com/users/5184758/alan-wang","https://twitter.com/wlchn"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://wlchn.github.io/ accesskey=h title="Alan Wang (Alt + H)">Alan Wang</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://github.com//wlchn title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there 👋</h1></header><div class=entry-content>Welcome to my page. I&rsquo;m Alan Wang, a full-stack developer.</div><footer class=entry-footer><div class=social-icons><a href=mailto:geekwanglei@gmail.com target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=https://linkedin.com/in/wlchn target=_blank rel="noopener noreferrer me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a href=https://github.com/wlchn target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://stackoverflow.com/users/5184758/alan-wang target=_blank rel="noopener noreferrer me" title=Stackoverflow><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.913 16.041v6.848h17.599v-6.848M7.16 18.696h8.925M7.65 13.937l8.675 1.8M9.214 9.124l8.058 3.758M12.086 4.65l6.849 5.66M15.774 1.111l5.313 7.162"/></svg></a><a href=https://twitter.com/wlchn target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>Mac解决too-many-open-files问题</h2></header><div class=entry-content><p>查看 maxfiles 设置
launchctl limit 设置一个较大的 maxfiles
sudo launchctl limit maxfiles 102400 102400 查看应用资源情况
lsof -n | awk '{print $1}' | uniq -c | sort -rn | head</p></div><footer class=entry-footer><span title='2022-08-10 00:00:00 +0800 CST'>August 10, 2022</span></footer><a class=entry-link aria-label="post link to Mac解决too-many-open-files问题" href=http://wlchn.github.io/posts/mac-too-many-open-files/></a></article><article class=post-entry><header class=entry-header><h2>Kubernetes-watch-golang实现</h2></header><div class=entry-content><p>第一种方法 使用k8s.io/client-go/tools/cache
func StartWatchingServices(c *Client) { watchlist := cache.NewListWatchFromClient( c.K8sClientset.CoreV1().RESTClient(), string(v1.ResourceServices), v1.NamespaceAll, fields.Everything(), ) _, controller := cache.NewInformer( watchlist, &amp;v1.Service{}, 0, //Duration is int64 cache.ResourceEventHandlerFuncs{ AddFunc: func(obj interface{}) { fmt.Printf("added: %s \n", obj) }, DeleteFunc: func(obj interface{}) { fmt.Printf(deleted: %s \n", obj) }, UpdateFunc: func(oldObj, newObj interface{}) { fmt.Printf("changed \n") }, }, ) stop := make(chan struct{}) defer close(stop) go controller.Run(stop) for { time.Sleep(time.Second) } } 第二种方法 使用k8s.io/client-go/informers，可以 watch CRD 资源但需要使用 code-generator 生成 clientset 和 informer(指 CRD 资源)。...</p></div><footer class=entry-footer><span title='2020-06-23 00:00:00 +0800 CST'>June 23, 2020</span></footer><a class=entry-link aria-label="post link to Kubernetes-watch-golang实现" href=http://wlchn.github.io/posts/kubernetes-watch-golang/></a></article><article class=post-entry><header class=entry-header><h2>利用Keycloak实现Kubernetes单点登录与权限验证（SSO,OIDC,RBAC）</h2></header><div class=entry-content><p>本文将详细介绍如何利用 Keycloak 配置 Kubernetes 登录验证，以及 RBAC 管理。 本文全部为测试环境工具。 流程示意 配置 Keycloak 安装配置 生产环境不建议使用 docker 直接部署 Keycloak。如果使用 nginx 需要将PROXY_ADDRESS_FORWARDING配置成true.
sudo docker run -e KEYCLOAK_USER=wanglei -e KEYCLOAK_PASSWORD=your_password -e PROXY_ADDRESS_FORWARDING=true -p 8081:8080 -d jboss/keycloak 配置 nginx 将 server_name 配置成你的域名,代理 Keycloak 端口，注意上面PROXY_ADDRESS_FORWARDING=true
server { listen 80; server_name key.wanglei.me; location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://localhost:8081; } } 在 Clients 中创建 kubernetes 设置Client ID为kubernetes，Client Protocol选择openid-connect即 OIDC 协议。 设置 Client 将Access Type设置为confidential, Valid Redirect URIs根据需要设置，本文后面用到 kubelogin,需要设置为http://localhost:8000 记录 Client Secret 在 Credentials 中找到 Secret，后面需要用到。 新建 Mapper 选择Mapper Type为User Attribute,选择Claim JSON Type为String,下面开关一律选on(可根据需求更改)。此处Token Claim Name字段设置为groups,后面配置 kube-apiserver 会用到。 为 User 添加 Attribute 添加 key groups, value admin,然后点击 add，再 save。 配置 kubernetes 此处使用 kind(kubernetes in docker) https://github....</p></div><footer class=entry-footer><span title='2020-02-28 00:00:00 +0800 CST'>February 28, 2020</span></footer><a class=entry-link aria-label="post link to 利用Keycloak实现Kubernetes单点登录与权限验证（SSO,OIDC,RBAC）" href=http://wlchn.github.io/posts/keycloak-kubernetes-sso-oidc-rbac/></a></article><article class=post-entry><header class=entry-header><h2>使用scratch构建最小化Go程序的docker-image</h2></header><div class=entry-content><p>由于 Golang 编译之后的文件是二进制，而 scratch 是 docker 最基础的空 image，所以可以使用 scratch 来构建 Go 程序的 docker image，使得最终构建的 image 最小化.
构建 image 过程分为两步：
在 Go 基础 image 中 build. 将 build 好的二进制文件拷贝到 scratch image 中。 无需 cgo 的程序 对于无需 cgo 交叉编译的程序，使用 scratch 来作为最终运行的基础 image 非常合适。
首先，选择合适版本的 golang 基础 image 来 build，这里没有必要选择更小的 golang alpine，build 过程中 pull 一般会有缓存所以 pull 速度差别不大，此外 alpine 中没有 git 和 ssl，我们在构建 image 过程中都有可能用到，况且 alpine 也不会影响最终 image 大小。
FROM golang:1.13 AS builder 禁掉 cgo 交叉编译，我们服务器一般为 linux amd64，build 二进制文件。...</p></div><footer class=entry-footer><span title='2019-11-22 00:00:00 +0800 CST'>November 22, 2019</span></footer><a class=entry-link aria-label="post link to 使用scratch构建最小化Go程序的docker-image" href=http://wlchn.github.io/posts/scratch-go-docker-image/></a></article><article class=post-entry><header class=entry-header><h2>不同域名之间共享localStorage-sessionStorage</h2></header><div class=entry-content><p>问题 两个不同的域名的 localStorage 不能直接互相访问。那么如何在aaa.com中如何调用bbb.com的 localStorage?
实现原理 1.在aaa.com的页面中，在页面中嵌入一个 src 为bbb.com的iframe，此时这个iframe里可以调用bbb.com的 localStorage。 2.用postMessage方法实现页面与iframe之间的通信。 综合 1、2 便可以实现aaa.com中调用bbb.com的 localStorage。
优化 iframe 我们可以在bbb.com中写一个专门负责共享 localStorage 的页面，例如叫做page1.html，这样可以防止无用的资源加载到iframe中。
示例 以在aaa.com中读取bbb.com中的 localStorage 的item1为例，写同理： bbb.com中page1.html，监听aaa.com通过postMessage传来的信息，读取 localStorage，然后再使用postMessage方法传给aaa.com的接收者。
&lt;!DOCTYPE html> &lt;html lang="en-US"> &lt;head> &lt;script type="text/javascript"> window.addEventListener('message', function(event) { if (event.origin === 'https://aaa.com') { const { key } = event.data; const value = localStorage.getItem(key); event.source.postMessage({wallets: wallets}, event.origin); } }, false); &lt;/script> &lt;/head> &lt;body> This page is for sharing localstorage. &lt;/body> &lt;/html> 在aaa.com的页面中加入一个 src 为bbb....</p></div><footer class=entry-footer><span title='2019-10-17 00:00:00 +0800 CST'>October 17, 2019</span></footer><a class=entry-link aria-label="post link to 不同域名之间共享localStorage-sessionStorage" href=http://wlchn.github.io/posts/share-localstorage-sessionstorage/></a></article><article class=post-entry><header class=entry-header><h2>三门问题（蒙提霍尔悖论）分析与Golang模拟</h2></header><div class=entry-content><p>问题描述 三门问题（Monty Hall problem）亦称为蒙提霍尔问题、蒙特霍问题或蒙提霍尔悖论，大致出自美国的电视游戏节目 Let’s Make a Deal。问题名字来自该节目的主持人蒙提·霍尔（Monty Hall）。参赛者会看见三扇关闭了的门，其中一扇的后面有一辆汽车，选中后面有车的那扇门可赢得该汽车，另外两扇门后面则各藏有一只山羊。当参赛者选定了一扇门，但未去开启它的时候，节目主持人开启剩下两扇门的其中一扇，露出其中一只山羊。主持人其后会问参赛者要不要换另一扇仍然关上的门。问题是：换另一扇门会否增加参赛者赢得汽车的机率？
答案 答案是会。不换门的话，赢得汽车的几率是 1/3。换门的话，赢得汽车的几率是 2/3。
争议 有人认为，在主持人排除了一个门之后，汽车只可能在另外两个门中，所以在两扇门的概率各是 1/2。
分析 首先参赛者选定了一扇门，主持人未开启门时，汽车在这扇门的概率为 1/3，在另外两扇门中的概率为 2/3，此时争议不大。而另外两扇门中必定至少有一扇是山羊，所以即使主持人指出这两扇门中一扇是山羊，并不会影响这两扇门的概率，两扇概率和仍为 2/3，此时一扇已知是山羊，所以两扇中的另外一扇是汽车的概率是 2/3。所以换门会提高概率。
思考 如果主持人开启揭露一扇门是山羊后，另外一个人 B 此时在剩下的两扇门中做抉择，并且他不知道其他信息，只知道一扇是汽车，一扇是羊，那么此时 B 选择到汽车的概率是 1/2。 这是因为没有之前的信息，B 不知道那扇门概率大，B 此时是在两扇门中做随机选择，B 可能有 1/2 的概率选择 A(参赛者)开始选择的门，也有 1/2 的概率选择 A 将要换的门。所以 B 选择到汽车的概率为 1/2 _ 1/3 + 1/2 _ 2/3 = 1/2。
程序模拟 package main import ( "fmt" "math/rand" "time" ) func main() { totalTimes := 1000000 aRightTimes := 0 bRightTimes := 0 rand....</p></div><footer class=entry-footer><span title='2019-10-10 00:00:00 +0800 CST'>October 10, 2019</span></footer><a class=entry-link aria-label="post link to 三门问题（蒙提霍尔悖论）分析与Golang模拟" href=http://wlchn.github.io/posts/three-doors-golang/></a></article><article class=post-entry><header class=entry-header><h2>Median-of-medians无序数组寻找中位数最差O(n)复杂度JS实现</h2></header><div class=entry-content><p>在无序数组中寻找中位数，最差复杂度为 O(n). 实现算法为 Median of medians，又叫 BFPRT 算法。 实现原理与复杂度研究：https://en.wikipedia.org/wiki/Median_of_medians
贴一版 JS 实现：
export const selectMedian = (arr, compare) => { return selectK(arr, Math.floor(arr.length / 2), compare); }; export const selectK = (arr, k, compare) => { if (!Array.isArray(arr) || arr.length === 0 || arr.length - 1 &lt; k) { return; } if (arr.length === 1) { return arr[0]; } let idx = selectIdx(arr, 0, arr.length - 1, k, compare || defaultCompare); return arr[idx]; }; const partition = (arr, left, right, pivot, compare) => { let temp = arr[pivot]; arr[pivot] = arr[right]; arr[right] = temp; let track = left; for (let i = left; i &lt; right; i++) { // if (arr[i] &lt; arr[right]) { if (compare(arr[i], arr[right]) === -1) { let t = arr[i]; arr[i] = arr[track]; arr[track] = t; track++; } } temp = arr[track]; arr[track] = arr[right]; arr[right] = temp; return track; }; const selectIdx = (arr, left, right, k, compare) => { if (left === right) { return left; } let dest = left + k; while (true) { let pivotIndex = right - left + 1 &lt;= 5 ?...</p></div><footer class=entry-footer><span title='2019-06-03 00:00:00 +0800 CST'>June 3, 2019</span></footer><a class=entry-link aria-label="post link to Median-of-medians无序数组寻找中位数最差O(n)复杂度JS实现" href=http://wlchn.github.io/posts/median-of-medians-js/></a></article><article class=post-entry><header class=entry-header><h2>为React单页应用提供Runtime运行时环境变量</h2></header><div class=entry-content><p>使用 create-react-app 创建的单页应用（SPA）是在 build 时注入环境变量的。一旦 build 成静态文件便不能动态提供环境变量了。 比如 build 一个单页应用的 docker image，可以在 build 时提供环境变量。但是已经 build 完成，使用 docker run 运行的时候不能再传递环境变量。 本文主要解决在运行时提供环境变量的问题。 原理：通过一段 shell 脚本将指定将 env 转换为 config.js 文件，该文件和 build 好的 static 文件 serve 在同一目录下，在应用中引用 config.js 文件，通过 window._env 获取环境变量。shell 脚本通过 docker image 的 entrypoint 执行。服务使用 go 构建的一个简单服务器，比 nginx 轻量很多。
将如下env.sh文件拷问到项目目录下，在 entrypoint（docker run）时执行，作用是将环境变量转出 config.js #!/bin/sh if [ $CONFIG_VARS ]; then # clear echo -n > ${CONFIG_FILE_PATH}/config.js SPLIT=$(echo $CONFIG_VARS | tr "," "\n") echo "window....</p></div><footer class=entry-footer><span title='2019-03-27 00:00:00 +0800 CST'>March 27, 2019</span></footer><a class=entry-link aria-label="post link to 为React单页应用提供Runtime运行时环境变量" href=http://wlchn.github.io/posts/react-spa-runtime-docker-env/></a></article><article class=post-entry><header class=entry-header><h2>Kubernetes等待部署完成-kubectl-wait-rollout</h2></header><div class=entry-content><p>使用 kubectl apply 或者 create 命令创建/更新部署后，其 pod 需要时间完成创建/更新。 如果在 CI 中不等待所有 pod 更新完成，下一步流程很有可能使用更新前的环境。
正确方法 kubectl rollout status 根据实际情况kubectl rollout status命令，能够正确的获取 rollout status。
ATTEMPTS=0 ROLLOUT_STATUS_CMD="kubectl rollout status deployment/myapp -n namespace" until $ROLLOUT_STATUS_CMD || [ $ATTEMPTS -eq 60 ]; do $ROLLOUT_STATUS_CMD ATTEMPTS=$((attempts + 1)) sleep 10 done 以上 shell 脚本经过轮询kubectl rollout status可以很好的解决实际问题。
错误方法 kubectl wait 注意kubectl wait命令不能适用于更新部署。
kubectl wait --for=condition=available --timeout=600s deployment/myapp -n namespace 该命令只能判断 deployment 是否 available，不能用来判断 rollout，即 available 状态的 deployment，很可能老的 pod 还在 terminating，新的 pod 还没创建好。...</p></div><footer class=entry-footer><span title='2019-03-18 00:00:00 +0800 CST'>March 18, 2019</span></footer><a class=entry-link aria-label="post link to Kubernetes等待部署完成-kubectl-wait-rollout" href=http://wlchn.github.io/posts/kubernetes-kubectl-wait-rollout/></a></article><article class=post-entry><header class=entry-header><h2>Go-WebAssembly-入门（二）</h2></header><div class=entry-content><p>系列文章 Go WebAssembly 入门（一）
Getting Started 编写 main.go
package main import ( "strconv" "syscall/js" ) // 传入value1, value2, result三个元素的id，将value1+value2结果赋给result元素 func add(ids []js.Value) { // 根据id获取输入值 value1 := js.Global().Get("document").Call("getElementById", ids[0].String()).Get("value").String() value2 := js.Global().Get("document").Call("getElementById", ids[1].String()).Get("value").String() int1, _ := strconv.Atoi(value1) int2, _ := strconv.Atoi(value2) // 将相加结果set给result元素 js.Global().Get("document").Call("getElementById", ids[2].String()).Set("value", int1+int2) } // 添加监听事件 func registerCallbacks() { js.Global().Set("add", js.NewCallback(add)) } func main() { c := make(chan struct{}, 0) println("Go WebAssembly Initialized!") registerCallbacks() &lt;-c } 将 main....</p></div><footer class=entry-footer><span title='2019-02-02 01:00:00 +0800 CST'>February 2, 2019</span></footer><a class=entry-link aria-label="post link to Go-WebAssembly-入门（二）" href=http://wlchn.github.io/posts/go-webassembly-tutorial-2/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://wlchn.github.io/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=http://wlchn.github.io/>Alan Wang</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>